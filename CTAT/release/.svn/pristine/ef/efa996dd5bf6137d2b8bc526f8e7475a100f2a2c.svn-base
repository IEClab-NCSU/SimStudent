/**-----------------------------------------------------------------------------
 $Author$
 $Date$
 $HeadURL$
 $Revision$

 -
 License:
 -
 ChangeLog:
 -
 Notes:

 */
goog.provide('CTATLanguageManager');

goog.require('CTATBase');

var CTATDefaultLangagePack =
{
	"HORIZONTAL" : "LR", // Accepted values are: LR, RL
	"VERTICAL" : "TB",	// Accepted values are TB, BT
	"LOADING" : "Please wait while the tutor is being loaded",
	"NEXTPROBLEM" : "Retrieving the Next Problem...",
	"TUTORDISCONNECTED" : "The tutor has disconnected. Please refresh the page.",
	"OUTOFORDER" : "You need to do other steps first, before doing the step you just worked on. You might request a hint for more help.",
	"DONE" : "Done",
	"HINT" : "Hint",
	"NEXT" : "Next",
	"PREVIOUS" : "Previous",
	"HIGHLIGHTEDSTEP" : "Instead of the step you are working on, please work on the highlighted step.",
	"NOTDONE" : "I'm sorry, but you are not done yet. Please continue working.",
    "AUTHORPLEASECLOSE" : "Authoring Tools disconnected. Please close this page.",
	"ERROR_502" : "Error contacting the server, please refresh the page and try again (HTTP status 502: gateway response).",
	"ERROR_CONN_TS" : "Connection refused by tutoring service, please check your server or contact an administrator.",
	"ERROR_CONN_LS" : "Connection refused by the logging server, please check your connection or contact an administrator."
};

/**
 * @constructor
 */
CTATLanguageManager = function()
{
	CTATBase.call(this, "CTATLanguageManager", "theLanguagePack");

	var pointer=this;

	/**
	*
	*/
	this.getString=function getString (anIdentifier)
	{
		pointer.ctatdebug ("getString ("+anIdentifier+") -> " + typeof CTATLanguagePack);

		if (typeof CTATLanguagePack !== 'undefined')
		{
			if (CTATLanguagePack [anIdentifier])
			{
				return (CTATLanguagePack [anIdentifier]);
			}
		}
		else
		{
			pointer.ctatdebug ("No custom language pack defined, using default...");
		}

		return (CTATDefaultLangagePack [anIdentifier]);
	};

	/**
	*
	*/
	this.filterString=function filterString (aString)
	{
		pointer.ctatdebug ("filterString ("+aString+") -> " + typeof CTATLanguagePack);

		if (typeof CTATLanguagePack !== 'undefined')
		{
			if (CTATLanguagePack [aString])
			{
				pointer.ctatdebug ("Found tag in provided language pack, returning: " + CTATLanguagePack [aString]);

				return (CTATLanguagePack [aString]);
			}
		}
		else
		{
			pointer.ctatdebug ("No custom language pack defined, using default...");
		}		

		if (typeof CTATDefaultLangagePack !== 'undefined')
		{
			if (CTATDefaultLangagePack [aString])
			{
				pointer.ctatdebug ("Found tag in default language pack, returning: " + CTATDefaultLangagePack [aString]);

				return (CTATDefaultLangagePack [aString]);
			}
		}

		return (aString);
	};
};

CTATLanguageManager.prototype = Object.create(CTATBase.prototype);
CTATLanguageManager.prototype.constructor = CTATLanguageManager;

CTATLanguageManager.theSingleton = new CTATLanguageManager();
